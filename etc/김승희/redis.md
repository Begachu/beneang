## Redis

- 시스템 메모리를 사용하는 key-value 데이터 저장소
- 인메모리 상태에서 데이터를 처리하여 RDB보다 빠르고 가볍게 동작

### 특징

- 빠른 성능
    - Redis의 데이터는 서버의 주 메모리에 상주
    - 디스크에 접근하지 않아도 되기 때문에 검색 시간으로 인한 지연을 방지
- 인 메모리 데이터 구조
    - 다양한 데이터 유형에 매핑되는 키를 저장할 수 있다
- 다양성과 사용 편의성
    - Pub/Sub
        - 메시지를 채널에 게시, 채널에서 구독자에게 전달된다.
        - 채팅과 메시징 시스템에 적합
    - TTL
        - 해당 기간 후에는 스스로를 삭제하는 지정된 Time To Live
        - 데이터베이스를 불필요한 데이터로 채우지 않도록 하는 데 유용
    - 원자성 카운터
        - 경합 상태가 일관성 없는 결과를 생성하지 않도록 한다.
    - Lua
        - 강력하지만 간단한 스크립팅 언어
- 복제 및 지속성
    - 마스터-슬레이브 아키텍처 사용
    - 비동기식 복제를 지원해 데이터가 여러 슬레이브 서버에 복제될 수 있다
    - 주 서버에 장애가 발생하는 경우, 요청이 여러 서버로 분산될 수 있어 향상된 읽기 성능과 복구 기능을 모두 제공
    - 안정성을 제공하기 위해 특정 시점 스냅샵(Redis 데이터 세트를 디스크로 복사)과 데이터가 변경될 때마다 이를 디스크에 저장하는 Append Only File 생성을 모두 지원

### 데이터 유형

1. String
    1. 텍스트 or 이진 데이터
    2. 최대 512MB
2. Lists of Strings
    1. 문자열이 추가된 순서대로 유지
3. Sets of unordered Strings
    1. 문자열이 추가된 순서대로 유지
4. Sorted Sets
    1. 점수에 따라 정렬
5. Hashes
    1. 필드와 값 목록을 저장
6. HyperLogLogs
    1. 데이터 세트에서 고유한 항목을 셈

### 사용 사례

1. 캐싱
    1. 다른 데이터베이스 앞에 배치
    2. 접근 지연 시간을 줄이고 처리량을 늘리며, RDB, NoSQL DB의 부담을 줄인다.
    3. [https://fors.tistory.com/582](https://fors.tistory.com/582)
2. 세션 관리
    1. 세션 관리에 적합
    2. 세션 키에 대한 적절한 TTL과 함께 빠른 키 값 스토어로 사용하면 간단하게 세션 정보 관리 가능
3. 실시간 순위표
    1. Redis Sorted Set 데이터 구조를 사용하면 요소가 목록에 유지되고 점수에 따라 정렬됨
    2. 게임에 앞서 있는 사람이나 좋아요를 가장 많이 받은 메시지나 선두에 있는 사람이 누구인지 보여줄 수 있ㅇ므
4. 속도 제한
    1. 이벤트 속도를 측정하고 필요한 경우 제한할 수 있다.
    2. 특정 기간 동안 액세스 요청 수를 세고 한도가 초과된 경우 조치를 취할 수 있다.
5. 대기열
    1. Redis List 데이터 구조를 사용하면 간단한 영구 대기열을 손쉽게 구현
    2. Redis List는 자동 작업 및 차단 기능을 제공
6. 채팅 및 메시징
    1. 패턴 매칭과 더불어 PUB/SUB 표준을 지원
    2. 고성능 채팅방, 실시간 코멘트 스트림 및 서버 상호 통신을 지원할 수 있다.
