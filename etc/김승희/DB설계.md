## DB 설계의 목적

- 프로젝트, 명세서 등의 정보 요구사항에 대한 정확한 이해
- 분석자, 개발자, 사용자 간의 원활한 의사소통 수단
- 데이터 중심의 분석 방법
- 현행 시스템 만이 아닌 신규 시스템 개발의 기초 제공

## 설계를 위한 요구사항 분석

- 데이터베이스에 대한 사용자의 요구사항을 수집하고 분석해서 요구사항(기능)명세서를 작성

## 개념적 설계

- 작성한 요구사항 명세서에 데이터베이스를 구성하는데 필요한 개체, 속성, 개체 간의 관계를 추출하여 ERD를 생성
1. 개체(entity)와 속성(attribute)을 추출
    1. 대부분 명사로 선별
    2. 개체 entity
        - 사용자와 관계가 있는 주요 객체
        - 업무 수행을 위해 데이터로 관리되어져야 하는 사람, 사물, 장소, 사건 등
        - 찾는 법
            - 영속적으로 존재하는 것
        - 반드시 attribute를 가져야 한다.
    3. 속성 attribute
        - 저장할 필요가 있는 실체에 관한 정보
        - entity의 성질, 분류, 수량, 상태, 특성 등을 나타내는 세부사항
        - entity에 포함되는 속성의 숫자는 10개 내외로 하는 것이 바람직
        - 유형
            - 기초 속성 : 원래 갖고 있는 속성
            - 추출 속성 : 기초 속성으로부터 계산(가공)에 의해 얻어질 수 있는 속성
            - 설계 속성 : 실제로 존재하지 않으나 시스템의 효율성을 도모하기 위해 설계자가 임의로 부여하는 속성
2. 개체 간의 관계(relation)를 추출
    1. 대부분 동사로 선별
    2. 관계에 속한 속성도 있을 수 있음
    3. 차수성
        1. 1:1  : 학과장은 학과에 교수 중에 한 명
        2. 1:N : 학과는 전공이라는 관계로 학생 N명을 갖는다.
        3. N:M : N명의 학생은 N개의 과목을 듣는다.
    4. 필수 참여, 선택 참여
    5. 두 entity 간 업무적인 연관성 또는 관련 사실

## 논리적 설계

- 모든 개체는 relation(table)으로 변환
    - ER 다이어그램의 각 개체를 relation(table)로 변환
    - 개체 → 테이블 속성 →  테이블의 속성
- N:M 관계는 relation(table)으로 변환
    - 관계 → relation 이름
    - 관계 속성 → relation 속성
- 1:N 관계는 외래키로 표현
    - 일반적으로 1:N관계에서 1측 개체의 기본키를 N측 relation에 포함시키고 외래키로 지정
- 1:1 관계는 외래키로 표현
    - 일반적 1:1관계는 외래키를 서로 주고 받는다.
- 다중 값 속성은 독립 relation(table)으로 변환
    - 릴레이션에서는 다중 값 속성을 가질 수 없으므로 다중 값 속성은 별도의 릴레이션으로 생성해야 함

## 물리적 스키마 및 구현

- ERD를 실제 테이블로 생성
- DBMS 특성에 맞게 실제 데이터베이스 내의 개체들을 정의하는 단계

## DB 정규화

- 데이터 모델의 중복을 최소화하고 데이터의 일관성, 유연성을 확보하기 위한 목적으로 데이터를 분해하는 과정
- 속성 간에 존재하는 함수적 종속성을 분석해서 관계형 스키마를 더 좋은 구조로 정제해 나가는 일련의 과정
- 데이터의 중복을 제거하고 속성들을 본래의 제자리에 위치시키는 것

## 반정규화

- 정규화된 entity 타입, 속성, 관계를 시스템의 성능 향상, 개발과 운영의 단순화를 위해 모델을 통합하는 프로세스
- 테이블 반정규화 방법
    - 1:1관계의 테이블 병합
    - 1:N관계의 테이블 병합
    - 수퍼/서브 타입 테이블 병합
    - 수직 분할(집중화된 일부 컬럼을 분리)
    - 수평 분할(행으로 구분하여 구간별 분리)
    - 테이블 추가(중복 테이블, 통계 테이블, 이력 테이블, 부분 테이블)
- 컬럼 반정규화
    - 중복 컬럼 추가(자주 조회하는 컬럼이 있는 경우)
    - 파생 컬럼 추가(미리 계산한 값)
    - PK에 의한 컬럼 추가
    - 응용 시스템 오작동을 위한 컬럼 추가(이전 데이터 임시 보관)
- 관계 반정규화
    - 중복 관계 추가(이미 A 테이블에서 C 테이블의 정보를 읽을 수 있는 관계가 있음에도 관계를 중복하여 조회 경로를 단축)
